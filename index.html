<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Input App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Multi-Input App</h1>
    
    <!-- Image Upload Section -->
    <h2>Upload an Image</h2>
    <input type="file" id="imageInput" accept="image/*">
    <button onclick="uploadImage()">Upload</button>
    <p id="imageResult"></p>

    <!-- GitHub Analysis Section -->
    <h2>Analyze GitHub Repository</h2>
    <input type="text" id="githubUrl" placeholder="Enter GitHub URL">
    <input type="text" id="analysisQuery" placeholder="Enter analysis query">
    <select id="language">
        <option value="Python">Python</option>
        <option value="JavaScript">JavaScript</option>
        <option value="Java">Java</option>
    </select>
    <button onclick="analyzeGitHub()">Analyze</button>
    <p id="githubResult"></p>

    <!-- Investment Advice Section -->
    <h2>Get Investment Advice</h2>
    <input type="text" id="name" placeholder="Enter Name">
    <input type="number" id="salary" placeholder="Enter Salary">
    <select id="investmentType">
        <option value="Mutual Fund">Mutual Fund</option>
        <option value="SIP">SIP</option>
        <option value="Property">Property</option>
    </select>
    <button onclick="getInvestmentAdvice()">Get Advice</button>
    <p id="investmentResult"></p>
    
    <script>
        const API_URL = "https://your-api-id.execute-api.us-west-2.amazonaws.com/prod";

        function uploadImage() {
            const fileInput = document.getElementById("imageInput");
            const file = fileInput.files[0];
            if (!file) return alert("Please select an image.");

            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = async function () {
                const base64String = reader.result.split(",")[1];
                const response = await fetch(API_URL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ type: "imageUpload", filename: file.name, image: base64String })
                });
                const data = await response.json();
                document.getElementById("imageResult").innerText = data.description || "Error processing image.";
            };
        }

        async function analyzeGitHub() {
            const githubUrl = document.getElementById("githubUrl").value;
            const analysisQuery = document.getElementById("analysisQuery").value;
            const language = document.getElementById("language").value;
            if (!githubUrl || !analysisQuery) return alert("Please enter all fields.");

            const response = await fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ type: "github", githubUrl, language, analysisQuery })
            });
            const data = await response.json();
            document.getElementById("githubResult").innerText = data.analysis || "Error analyzing repository.";
        }

        async function getInvestmentAdvice() {
            const name = document.getElementById("name").value;
            const salary = document.getElementById("salary").value;
            const investmentType = document.getElementById("investmentType").value;
            if (!name || !salary || !investmentType) return alert("Please enter all fields.");

            const response = await fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ type: "investment", name, salary, investmentType })
            });
            const data = await response.json();
            document.getElementById("investmentResult").innerText = data.investmentAdvice || "Error fetching advice.";
        }
    </script>
</body>
</html>
